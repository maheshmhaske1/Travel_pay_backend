var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
(function (factory) {
    if (typeof module === "object" && typeof module.exports === "object") {
        var v = factory(require, exports);
        if (v !== undefined) module.exports = v;
    }
    else if (typeof define === "function" && define.amd) {
        define(["require", "exports", "msgpack-lite", "jsonpack"], factory);
    }
})(function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Msgpack = void 0;
    const msgpack_lite_1 = __importDefault(require("msgpack-lite"));
    const jsonpack_1 = __importDefault(require("jsonpack"));
    class Msgpack {
        static async pack(data) {
            const packed = await Promise.resolve(jsonpack_1.default.pack);
            const encoded = await Promise.resolve(msgpack_lite_1.default.encode);
            const pack = await packed(data);
            const encode = await encoded(pack);
            return encode;
        }
        static async unpack(data) {
            const decoded = await Promise.resolve(msgpack_lite_1.default.decode);
            const unpacked = await Promise.resolve(jsonpack_1.default.unpack);
            const decode = await decoded(data);
            const unpack = await unpacked(decode);
            return unpack;
        }
    }
    exports.Msgpack = Msgpack;
});
